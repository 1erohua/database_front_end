{"remainingRequest":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/Login.vue","mtime":1736044804597},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js","mtime":1736410805991},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/babel-loader/lib/index.js","mtime":1736410806162},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js","mtime":1736410805991},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js","mtime":1736410806488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLCAgLy8g57uE5Lu25ZCN56ewCgogIC8vIOaVsOaNruWumuS5iemDqOWIhgogIGRhdGEoKSB7CiAgICAvLyDmoKHpqoznlKjmiLflkI3ovpPlhaUKICAgIGNvbnN0IHZhbGlkYXRlVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeeUqOaIt+WQjSIpKTsgIC8vIOWmguaenOeUqOaIt+WQjeS4uuepuu+8jOi/lOWbnumUmeivr+S/oeaBrwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7ICAvLyDlkKbliJnpgJrov4fmoKHpqowKICAgICAgfQogICAgfTsKCiAgICAvLyDmoKHpqozlr4bnoIHovpPlhaUKICAgIGNvbnN0IHZhbGlkYXRlUGFzcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOyAgLy8g5aaC5p6c5a+G56CB5Li656m677yM6L+U5Zue6ZSZ6K+v5L+h5oGvCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDYpIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5LiN6IO95bCR5LqONuS9jSIpKTsgIC8vIOWmguaenOWvhueggemVv+W6puWwj+S6jjbkvY3vvIzov5Tlm57plJnor6/kv6Hmga8KICAgICAgICB9CiAgICAgICAgY2FsbGJhY2soKTsgIC8vIOWQpuWImemAmui/h+agoemqjAogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIC8vIOihqOWNleaVsOaNruWvueixoQogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogIiIsICAvLyDnlKjmiLflkI0KICAgICAgICBwYXNzOiAiIiwgIC8vIOWvhueggQogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqozop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogImJsdXIiLCB2YWxpZGF0b3I6IHZhbGlkYXRlVXNlcm5hbWUgfSwgIC8vIOeUqOaIt+WQjeW/heWhq++8jOWkseWOu+eEpueCueaXtuinpuWPkeagoemqjAogICAgICAgIF0sCiAgICAgICAgcGFzczogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MsIHRyaWdnZXI6ICJibHVyIiB9XSwgIC8vIOWvhueggeagoemqjO+8jOWkseWOu+eEpueCueaXtuinpuWPkeagoemqjAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaPkOS6pOeZu+W9leihqOWNlQogICAgc3VibWl0Rm9ybShsb2dpbkZvcm0pIHsKICAgICAgdGhpcy4kcmVmc1tsb2dpbkZvcm1dLnZhbGlkYXRlKCh2YWxpZCkgPT4geyAgLy8g5qCh6aqM6KGo5Y2VCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvLyDlpoLmnpzmoKHpqozpgJrov4fvvIzosIPnlKjnmbvlvZXmjqXlj6MKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIHRoaXMubG9naW5Gb3JtKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgbGV0IHtkYXRhfSA9IHJlcyAgLy8g6Kej5p6E6L+U5Zue55qE5pWw5o2uCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMTAwMCl7ICAvLyDlpoLmnpzov5Tlm57noIHkuLoxMDAw77yM6KGo56S655m75b2V5oiQ5YqfCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6ZGF0YS5tZXNzYWdlLCB0eXBlOiAic3VjY2VzcyIgfSk7ICAvLyDmmL7npLrmiJDlip/mtojmga8KICAgICAgICAgICAgICAvLyDojrflj5bnmbvlvZXnlKjmiLfkv6Hmga8KICAgICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0SW5mbyIsZGF0YSkKCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0aGlzLnJlZGlyZWN0IHx8ICcvJyB9KSAgLy8g6Lez6L2s5Yiw6aaW6aG15oiW5oyH5a6a6aG16Z2iCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTpkYXRhLm1lc3NhZ2UsIHR5cGU6ICJ3YXJuaW5nIiB9KTsgIC8vIOaYvuekuuitpuWRiua2iOaBrwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpPT4gewogICAgICAgICAgICAvLyDnmbvlvZXlpLHotKXml7bmmL7npLrplJnor6/kv6Hmga8KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsIHR5cGU6ICJlcnJvciIgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7ICAvLyDmoKHpqozlpLHotKXvvIzmiZPljbDplJnor6/kv6Hmga8KICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9ruihqOWNlQogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7ICAvLyDosIPnlKhFbGVtZW50IFVJ55qEcmVzZXRGaWVsZHPmlrnms5Xph43nva7ooajljZUKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <h2>乐队与乐迷管理系统</h2>\n    <el-form\n      :model=\"loginForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"loginForm\"\n      label-width=\"100px\"\n      class=\"demo-loginForm login-form\"\n    >\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input\n          type=\"text\"\n          autocomplete=\"off\"\n          v-model=\"loginForm.username\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"pass\">\n        <el-input\n          type=\"password\"\n          v-model=\"loginForm.pass\"\n          autocomplete=\"off\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item login-form-submit>\n        <el-button\n          class=\"login-submit\"\n          type=\"primary\"\n          @click=\"submitForm('loginForm')\"\n          >登录</el-button\n        >\n      </el-form-item>\n      <p>登录账号admin 密码123456</p>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Login\",  // 组件名称\n\n  // 数据定义部分\n  data() {\n    // 校验用户名输入\n    const validateUsername = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入用户名\"));  // 如果用户名为空，返回错误信息\n      } else {\n        callback();  // 否则通过校验\n      }\n    };\n\n    // 校验密码输入\n    const validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));  // 如果密码为空，返回错误信息\n      } else {\n        if (value.length < 6) {\n          callback(new Error(\"密码不能少于6位\"));  // 如果密码长度小于6位，返回错误信息\n        }\n        callback();  // 否则通过校验\n      }\n    };\n\n    return {\n      // 表单数据对象\n      loginForm: {\n        username: \"\",  // 用户名\n        pass: \"\",  // 密码\n      },\n      // 表单校验规则\n      rules: {\n        username: [\n          { required: true, trigger: \"blur\", validator: validateUsername },  // 用户名必填，失去焦点时触发校验\n        ],\n        pass: [{ validator: validatePass, trigger: \"blur\" }],  // 密码校验，失去焦点时触发校验\n      },\n    };\n  },\n  methods: {\n    // 提交登录表单\n    submitForm(loginForm) {\n      this.$refs[loginForm].validate((valid) => {  // 校验表单\n        if (valid) {\n          // 如果校验通过，调用登录接口\n          this.$store.dispatch(\"login\", this.loginForm).then((res) => {\n            let {data} = res  // 解构返回的数据\n            console.log(data);\n            if(data.code == 1000){  // 如果返回码为1000，表示登录成功\n              this.$message({ message:data.message, type: \"success\" });  // 显示成功消息\n              // 获取登录用户信息\n              // this.$store.dispatch(\"getInfo\",data)\n\n              this.$router.push({ path: this.redirect || '/' })  // 跳转到首页或指定页面\n            }else {\n              this.$message({ message:data.message, type: \"warning\" });  // 显示警告消息\n            }\n          }).catch((error)=> {\n            // 登录失败时显示错误信息\n            this.$message({ message: error.message, type: \"error\" });\n          });\n        } else {\n          console.log(\"error submit!!\");  // 校验失败，打印错误信息\n          return false;\n        }\n      });\n    },\n    // 重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields();  // 调用Element UI的resetFields方法重置表单\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  padding-top: 100px;  // 登录容器上边距\n  text-align: center;  // 内容居中\n}\nh2 {\n  color: #500877;  // 标题颜色\n  padding: 20px;  // 标题内边距\n}\n.login-form {\n  margin: auto;  // 表单居中\n  max-width: 500px;  // 表单最大宽度\n  .el-form-item__label {\n    color: #000000;  // 表单标签颜色\n  }\n  \n}\n.login-form-submit {\n  text-align: center;  // 提交按钮居中\n}\n.login-submit {\n  display: block;  // 按钮块级显示\n  margin: 0 auto;  // 按钮居中\n  text-align: center;  // 按钮文本居中\n  width: 200px;  // 按钮宽度\n}\n</style>"]}]}