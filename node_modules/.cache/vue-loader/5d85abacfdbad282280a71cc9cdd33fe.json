{"remainingRequest":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/fan/fan_un/fan_un.vue?vue&type=style&index=0&id=46ace329&lang=scss&scoped=true&","dependencies":[{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/fan/fan_un/fan_un.vue","mtime":1735991539484},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/css-loader/dist/cjs.js","mtime":1736410806225},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1736410806610},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/postcss-loader/src/index.js","mtime":1736410806346},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/sass-loader/dist/cjs.js","mtime":1736410805953},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js","mtime":1736410805991},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js","mtime":1736410806488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZmFuLWxpa2VzIHsKICAuYmF0Y2hPcHRpb24gewogICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgLmVsLWJ1dHRvbiB7CiAgICAgIGZvbnQtc2l6ZTogMTBweDsKICAgICAgcGFkZGluZzogNXB4OwogICAgfQogIH0KICAudGFibGUgewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9Cn0K"},{"version":3,"sources":["fan_un.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"fan_un.vue","sourceRoot":"src/views/fan/fan_un","sourcesContent":["<template>\n  <div class=\"fan-likes\">\n    <div class=\"container_wrap\">\n      <div class=\"batchOption\">\n        <el-button icon=\"el-icon-refresh\" type=\"warning\" @click=\"refresh($event)\"\n          >刷新列表</el-button\n        >\n      </div>\n\n      <!-- 未关注的乐队 -->\n      <el-table :data=\"unfollowedBands\" border class=\"table\">\n        <el-table-column prop=\"BandName\" label=\"乐队名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"FormationDate\" label=\"成立日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"BandDescription\" label=\"乐队描述\" width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followBand(scope.row.BandID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未关注的专辑 -->\n      <el-table :data=\"unfollowedAlbums\" border class=\"table\">\n        <el-table-column prop=\"AlbumName\" label=\"专辑名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ReleaseDate\" label=\"发行日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"AlbumDescription\" label=\"专辑描述\" width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followAlbum(scope.row.AlbumID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未关注的歌曲 -->\n      <el-table :data=\"unfollowedSongs\" border class=\"table\">\n        <el-table-column prop=\"SongName\" label=\"歌曲名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Lyricist\" label=\"作词人\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Composer\" label=\"作曲人\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followSong(scope.row.SongID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未参加的演唱会 -->\n      <el-table :data=\"unattendedConcerts\" border class=\"table\">\n        <el-table-column prop=\"ConcertName\" label=\"演唱会名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ConcertDate\" label=\"演唱会日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Location\" label=\"地点\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"attendConcert(scope.row.ConcertID)\"\n              >参加</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getUnfollowedBands,\n  getUnfollowedAlbums,\n  getUnfollowedSongs,\n  getUnattendedConcerts,\n  addLikedBand,\n  addLikedAlbum,\n  addLikedSong,\n  addAttendedConcert,\n} from \"@/api/request\";\n\nexport default {\n  name: \"FanHeLikes\",\n  data() {\n    return {\n      unfollowedBands: [],\n      unfollowedAlbums: [],\n      unfollowedSongs: [],\n      unattendedConcerts: [],\n    };\n  },\n  computed: {\n    fanId() {\n      return this.$store.state.fanId;\n    },\n  },\n  created() {\n    this.getUnfollowedData();\n  },\n  methods: {\n    // 获取所有未关注的数据\n    getUnfollowedData() {\n      getUnfollowedBands(this.fanId).then((res) => {\n        this.unfollowedBands = res.data;\n      });\n      getUnfollowedAlbums(this.fanId).then((res) => {\n        this.unfollowedAlbums = res.data;\n      });\n      getUnfollowedSongs(this.fanId).then((res) => {\n        this.unfollowedSongs = res.data;\n      });\n      getUnattendedConcerts(this.fanId).then((res) => {\n        this.unattendedConcerts = res.data;\n      });\n    },\n    // 刷新列表\n    refresh(event) {\n      this.lostBlur(event);\n      this.getUnfollowedData();\n    },\n    // 关注乐队\n    followBand(bandId) {\n      addLikedBand(this.fanId, bandId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 关注专辑\n    followAlbum(albumId) {\n      addLikedAlbum(this.fanId, albumId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 关注歌曲\n    followSong(songId) {\n      addLikedSong(this.fanId, songId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 参加演唱会\n    attendConcert(concertId) {\n      addAttendedConcert(this.fanId, concertId).then(() => {\n        this.$message({ type: \"success\", message: \"参加成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 失焦处理\n    lostBlur(event) {\n      let target = event.target;\n      if (target.nodeName == \"SPAN\") {\n        target = event.target.parentNode;\n      }\n      target.blur();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.fan-likes {\n  .batchOption {\n    margin-bottom: 5px;\n    .el-button {\n      font-size: 10px;\n      padding: 5px;\n    }\n  }\n  .table {\n    margin-bottom: 20px;\n  }\n}\n</style>"]}]}