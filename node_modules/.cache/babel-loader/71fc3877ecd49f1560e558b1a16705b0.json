{"remainingRequest":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/babel-loader/lib/index.js!/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/src/views/fan/fan_un/fan_un.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/src/views/fan/fan_un/fan_un.vue","mtime":1735991539484},{"path":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/cache-loader/dist/cjs.js","mtime":1735892181475},{"path":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/babel-loader/lib/index.js","mtime":1735892181655},{"path":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/cache-loader/dist/cjs.js","mtime":1735892181475},{"path":"/home/zerohua/application/FrontEnd/tset/stu_manage_front-main/node_modules/vue-loader/lib/index.js","mtime":1735892182047}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VW5mb2xsb3dlZEJhbmRzLCBnZXRVbmZvbGxvd2VkQWxidW1zLCBnZXRVbmZvbGxvd2VkU29uZ3MsIGdldFVuYXR0ZW5kZWRDb25jZXJ0cywgYWRkTGlrZWRCYW5kLCBhZGRMaWtlZEFsYnVtLCBhZGRMaWtlZFNvbmcsIGFkZEF0dGVuZGVkQ29uY2VydCB9IGZyb20gIkAvYXBpL3JlcXVlc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZhbkhlTGlrZXMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1bmZvbGxvd2VkQmFuZHM6IFtdLAogICAgICB1bmZvbGxvd2VkQWxidW1zOiBbXSwKICAgICAgdW5mb2xsb3dlZFNvbmdzOiBbXSwKICAgICAgdW5hdHRlbmRlZENvbmNlcnRzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmYW5JZDogZnVuY3Rpb24gZmFuSWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5mYW5JZDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVuZm9sbG93ZWREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmiYDmnInmnKrlhbPms6jnmoTmlbDmja4KICAgIGdldFVuZm9sbG93ZWREYXRhOiBmdW5jdGlvbiBnZXRVbmZvbGxvd2VkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldFVuZm9sbG93ZWRCYW5kcyh0aGlzLmZhbklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy51bmZvbGxvd2VkQmFuZHMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICAgIGdldFVuZm9sbG93ZWRBbGJ1bXModGhpcy5mYW5JZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudW5mb2xsb3dlZEFsYnVtcyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgICAgZ2V0VW5mb2xsb3dlZFNvbmdzKHRoaXMuZmFuSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnVuZm9sbG93ZWRTb25ncyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgICAgZ2V0VW5hdHRlbmRlZENvbmNlcnRzKHRoaXMuZmFuSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnVuYXR0ZW5kZWRDb25jZXJ0cyA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliLfmlrDliJfooagKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goZXZlbnQpIHsKICAgICAgdGhpcy5sb3N0Qmx1cihldmVudCk7CiAgICAgIHRoaXMuZ2V0VW5mb2xsb3dlZERhdGEoKTsKICAgIH0sCiAgICAvLyDlhbPms6jkuZDpmJ8KICAgIGZvbGxvd0JhbmQ6IGZ1bmN0aW9uIGZvbGxvd0JhbmQoYmFuZElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYWRkTGlrZWRCYW5kKHRoaXMuZmFuSWQsIGJhbmRJZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6ICLlhbPms6jmiJDlip8hIgogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuZ2V0VW5mb2xsb3dlZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YWz5rOo5LiT6L6RCiAgICBmb2xsb3dBbGJ1bTogZnVuY3Rpb24gZm9sbG93QWxidW0oYWxidW1JZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGFkZExpa2VkQWxidW0odGhpcy5mYW5JZCwgYWxidW1JZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6ICLlhbPms6jmiJDlip8hIgogICAgICAgIH0pOwoKICAgICAgICBfdGhpczMuZ2V0VW5mb2xsb3dlZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YWz5rOo5q2M5puyCiAgICBmb2xsb3dTb25nOiBmdW5jdGlvbiBmb2xsb3dTb25nKHNvbmdJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGFkZExpa2VkU29uZyh0aGlzLmZhbklkLCBzb25nSWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBtZXNzYWdlOiAi5YWz5rOo5oiQ5YqfISIKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM0LmdldFVuZm9sbG93ZWREYXRhKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPguWKoOa8lOWUseS8mgogICAgYXR0ZW5kQ29uY2VydDogZnVuY3Rpb24gYXR0ZW5kQ29uY2VydChjb25jZXJ0SWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBhZGRBdHRlbmRlZENvbmNlcnQodGhpcy5mYW5JZCwgY29uY2VydElkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuWPguWKoOaIkOWKnyEiCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNS5nZXRVbmZvbGxvd2VkRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlpLHnhKblpITnkIYKICAgIGxvc3RCbHVyOiBmdW5jdGlvbiBsb3N0Qmx1cihldmVudCkgewogICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoKICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PSAiU1BBTiIpIHsKICAgICAgICB0YXJnZXQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgdGFyZ2V0LmJsdXIoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["fan_un.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"fan-likes\">\n    <div class=\"container_wrap\">\n      <div class=\"batchOption\">\n        <el-button icon=\"el-icon-refresh\" type=\"warning\" @click=\"refresh($event)\"\n          >刷新列表</el-button\n        >\n      </div>\n\n      <!-- 未关注的乐队 -->\n      <el-table :data=\"unfollowedBands\" border class=\"table\">\n        <el-table-column prop=\"BandName\" label=\"乐队名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"FormationDate\" label=\"成立日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"BandDescription\" label=\"乐队描述\" width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followBand(scope.row.BandID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未关注的专辑 -->\n      <el-table :data=\"unfollowedAlbums\" border class=\"table\">\n        <el-table-column prop=\"AlbumName\" label=\"专辑名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ReleaseDate\" label=\"发行日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"AlbumDescription\" label=\"专辑描述\" width=\"200\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followAlbum(scope.row.AlbumID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未关注的歌曲 -->\n      <el-table :data=\"unfollowedSongs\" border class=\"table\">\n        <el-table-column prop=\"SongName\" label=\"歌曲名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Lyricist\" label=\"作词人\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Composer\" label=\"作曲人\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"followSong(scope.row.SongID)\"\n              >关注</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 未参加的演唱会 -->\n      <el-table :data=\"unattendedConcerts\" border class=\"table\">\n        <el-table-column prop=\"ConcertName\" label=\"演唱会名称\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"ConcertDate\" label=\"演唱会日期\" width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"Location\" label=\"地点\" width=\"150\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              @click=\"attendConcert(scope.row.ConcertID)\"\n              >参加</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getUnfollowedBands,\n  getUnfollowedAlbums,\n  getUnfollowedSongs,\n  getUnattendedConcerts,\n  addLikedBand,\n  addLikedAlbum,\n  addLikedSong,\n  addAttendedConcert,\n} from \"@/api/request\";\n\nexport default {\n  name: \"FanHeLikes\",\n  data() {\n    return {\n      unfollowedBands: [],\n      unfollowedAlbums: [],\n      unfollowedSongs: [],\n      unattendedConcerts: [],\n    };\n  },\n  computed: {\n    fanId() {\n      return this.$store.state.fanId;\n    },\n  },\n  created() {\n    this.getUnfollowedData();\n  },\n  methods: {\n    // 获取所有未关注的数据\n    getUnfollowedData() {\n      getUnfollowedBands(this.fanId).then((res) => {\n        this.unfollowedBands = res.data;\n      });\n      getUnfollowedAlbums(this.fanId).then((res) => {\n        this.unfollowedAlbums = res.data;\n      });\n      getUnfollowedSongs(this.fanId).then((res) => {\n        this.unfollowedSongs = res.data;\n      });\n      getUnattendedConcerts(this.fanId).then((res) => {\n        this.unattendedConcerts = res.data;\n      });\n    },\n    // 刷新列表\n    refresh(event) {\n      this.lostBlur(event);\n      this.getUnfollowedData();\n    },\n    // 关注乐队\n    followBand(bandId) {\n      addLikedBand(this.fanId, bandId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 关注专辑\n    followAlbum(albumId) {\n      addLikedAlbum(this.fanId, albumId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 关注歌曲\n    followSong(songId) {\n      addLikedSong(this.fanId, songId).then(() => {\n        this.$message({ type: \"success\", message: \"关注成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 参加演唱会\n    attendConcert(concertId) {\n      addAttendedConcert(this.fanId, concertId).then(() => {\n        this.$message({ type: \"success\", message: \"参加成功!\" });\n        this.getUnfollowedData();\n      });\n    },\n    // 失焦处理\n    lostBlur(event) {\n      let target = event.target;\n      if (target.nodeName == \"SPAN\") {\n        target = event.target.parentNode;\n      }\n      target.blur();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.fan-likes {\n  .batchOption {\n    margin-bottom: 5px;\n    .el-button {\n      font-size: 10px;\n      padding: 5px;\n    }\n  }\n  .table {\n    margin-bottom: 20px;\n  }\n}\n</style>"],"sourceRoot":"src/views/fan/fan_un"}]}