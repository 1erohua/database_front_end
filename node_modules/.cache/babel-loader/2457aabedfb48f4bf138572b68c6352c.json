{"remainingRequest":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/babel-loader/lib/index.js!/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/admin/admin_Fan/Dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/src/views/admin/admin_Fan/Dialog.vue","mtime":1736005239608},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js","mtime":1736410805991},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/babel-loader/lib/index.js","mtime":1736410806162},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/cache-loader/dist/cjs.js","mtime":1736410805991},{"path":"/home/zerohua/application/FrontEnd/tset/database_front_end/node_modules/vue-loader/lib/index.js","mtime":1736410806488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdXBkYXRlRmFuLCBhZGRGYW4gfSBmcm9tICJAL2FwaS9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGYW5EaWFsb2ciLAogIHByb3BzOiB7CiAgICBkaWFsb2dFZGl0VmlzaWJsZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgZmFuSW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGlsZENsb3NlOiBmdW5jdGlvbiBjaGlsZENsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ0VkaXRWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5o+Q5Lqk6KGo5Y2VCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpcy5mYW5JbmZvLkZhbklEKSB7CiAgICAgICAgICAgIC8vIOabtOaWsOeyieS4neS/oeaBrwogICAgICAgICAgICB1cGRhdGVGYW4oX3RoaXMuZmFuSW5mby5GYW5JRCwgX3RoaXMuZmFuSW5mbykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsOaIkOWKnyIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInVwZGF0ZUZhbiIsIF90aGlzLmZhbkluZm8pOwoKICAgICAgICAgICAgICBfdGhpcy5jaGlsZENsb3NlKCk7CiAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcigi5pu05paw5aSx6LSlISIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOaWsOWinueyieS4nQogICAgICAgICAgICBhZGRGYW4oX3RoaXMuZmFuSW5mbykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuaWsOWinuaIkOWKnyIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInVwZGF0ZUZhbiIsIF90aGlzLmZhbkluZm8pOwoKICAgICAgICAgICAgICBfdGhpcy5jaGlsZENsb3NlKCk7CiAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcigi5paw5aKe5aSx6LSlISIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,SAAA,EAAA,MAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAAA,qCAEA;AACA,eAAA,EAAA;AACA;AAJA,KADA;AAOA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAAA,qCAEA;AACA,eAAA,EAAA;AACA;AAJA;AAPA,GAFA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,iBAAA,CAAA,KAAA,GAAA,KAAA;AACA,KAHA;AAIA;AACA,IAAA,UALA,sBAKA,QALA,EAKA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAAA;AACA;AACA,YAAA,SAAA,CAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAAA,KAAA,CAAA,OAAA,CAAA,CACA,IADA,CACA,YAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA;AAAA,gBAAA,OAAA,EAAA,MAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,KAAA,CAAA,OAAA;;AACA,cAAA,KAAA,CAAA,UAAA;AACA,aALA,WAMA,UAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA;AACA,aARA;AASA,WAXA,MAWA;AACA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,CACA,IADA,CACA,YAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA;AAAA,gBAAA,OAAA,EAAA,MAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;;AACA,cAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,KAAA,CAAA,OAAA;;AACA,cAAA,KAAA,CAAA,UAAA;AACA,aALA,WAMA,UAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,OAAA;AACA,aARA;AASA;AACA,SAxBA,MAwBA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,iBAAA,KAAA;AACA;AACA,OA7BA;AA8BA;AApCA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- 修改弹窗 -->\n    <el-dialog\n      :visible.sync=\"dialogEditVisible.value\"\n      @close=\"childClose\"\n      width=\"30%\"\n    >\n      <el-form :model=\"fanInfo\" ref=\"fanInfo\" label-width=\"100px\">\n        <el-form-item label=\"姓名\">\n          <el-input v-model=\"fanInfo.Name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-select v-model=\"fanInfo.Gender\" placeholder=\"请选择性别\">\n            <el-option label=\"男\" value=\"Male\"></el-option>\n            <el-option label=\"女\" value=\"Female\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"年龄\">\n          <el-input v-model.number=\"fanInfo.Age\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"职业\">\n          <el-input v-model=\"fanInfo.Occupation\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"教育程度\">\n          <el-input v-model=\"fanInfo.Education\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"粉丝代码\">\n          <el-input v-model=\"fanInfo.FanCode\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('fanInfo')\"\n            >确认修改</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { updateFan, addFan } from \"@/api/request\";\n\nexport default {\n  name: \"FanDialog\",\n  props: {\n    dialogEditVisible: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    fanInfo: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  methods: {\n    childClose() {\n      this.dialogEditVisible.value = false;\n    },\n    // 提交表单\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.fanInfo.FanID) {\n            // 更新粉丝信息\n            updateFan(this.fanInfo.FanID, this.fanInfo)\n              .then(() => {\n                this.$message({ message: \"更新成功\", type: \"success\" });\n                this.$emit(\"updateFan\", this.fanInfo);\n                this.childClose();\n              })\n              .catch((err) => {\n                this.$message.error(\"更新失败!\");\n              });\n          } else {\n            // 新增粉丝\n            addFan(this.fanInfo)\n              .then(() => {\n                this.$message({ message: \"新增成功\", type: \"success\" });\n                this.$emit(\"updateFan\", this.fanInfo);\n                this.childClose();\n              })\n              .catch((err) => {\n                this.$message.error(\"新增失败!\");\n              });\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form-item {\n  margin-bottom: 20px;\n}\n</style>"],"sourceRoot":"src/views/admin/admin_Fan"}]}